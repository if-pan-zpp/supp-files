

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Position diff hook &mdash; mdk  documentation</title>
  

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Progress bar hook" href="progressbar.html" />
    <link rel="prev" title="PDB export hook" href="exportpdb.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> mdk
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Sections:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../prep/index.html">Preparation layer</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Simulation layer</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../simulation.html">Simulation object</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data/index.html">Data objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../primitives.html">Primitives</a></li>
<li class="toctree-l2"><a class="reference internal" href="../simulvar.html">Simulation variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../forces/index.html">Forces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kernels/index.html">Kernels</a></li>
<li class="toctree-l2"><a class="reference internal" href="../verlet.html">Verlet list</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stats.html">Coordination stats</a></li>
<li class="toctree-l2"><a class="reference internal" href="../state.html">Physical state object</a></li>
<li class="toctree-l2"><a class="reference internal" href="../integrator/index.html">Integrators</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Hooks</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="exportpdb.html">PDB export hook</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Position diff hook</a></li>
<li class="toctree-l3"><a class="reference internal" href="progressbar.html">Progress bar hook</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../utils/index.html">Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../entire.html">Entire namespace</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">mdk</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">Simulation layer</a> &raquo;</li>
        
          <li><a href="index.html">Hooks</a> &raquo;</li>
        
      <li>Position diff hook</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../_sources/src/simul/hooks/positiondiff.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="position-diff-hook">
<h1>Position diff hook<a class="headerlink" href="#position-diff-hook" title="Permalink to this headline">¶</a></h1>
<dl class="cpp class">
<dt class="sig sig-object cpp" id="_CPPv4N3mdk12PositionDiffE">
<span id="_CPPv3N3mdk12PositionDiffE"></span><span id="_CPPv2N3mdk12PositionDiffE"></span><span id="mdk::PositionDiff"></span><span class="target" id="classmdk_1_1PositionDiff"></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="../../entire.html#_CPPv43mdk" title="mdk"><span class="n"><span class="pre">mdk</span></span></a><span class="p"><span class="pre">::</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">PositionDiff</span></span></span><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="k"><span class="pre">public</span></span><span class="w"> </span><a class="reference internal" href="../../entire.html#_CPPv43mdk" title="mdk"><span class="n"><span class="pre">mdk</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="../../entire.html#_CPPv4N3mdk4HookE" title="mdk::Hook"><span class="n"><span class="pre">Hook</span></span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">private</span></span><span class="w"> </span><a class="reference internal" href="../../entire.html#_CPPv43mdk" title="mdk"><span class="n"><span class="pre">mdk</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="../../entire.html#_CPPv4N3mdk8SimulVarE" title="mdk::SimulVar"><span class="n"><span class="pre">SimulVar</span></span></a><br /></dt>
<dd><p>A hook which saves position diffs. I <em>assume</em> this takes the path to the positions as outputted by the Fortran implementation and compares the positions in the consecutive steps with the current positions, whereafter it outputs the diffs to the <code class="docutils literal notranslate"><span class="pre">outputPath</span></code>. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-functions">Public Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N3mdk12PositionDiff12PositionDiffENSt6stringERKNSt6stringE">
<span id="_CPPv3N3mdk12PositionDiff12PositionDiffENSt6stringERKNSt6stringE"></span><span id="_CPPv2N3mdk12PositionDiff12PositionDiffENSt6stringERKNSt6stringE"></span><span id="mdk::PositionDiff::PositionDiff__ss.ssCR"></span><span class="target" id="classmdk_1_1PositionDiff_1a417443c7a0df6488f90a8391448924ea"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">PositionDiff</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../utils/aminoacid.html#_CPPv4St" title="std"><span class="n"><span class="pre">std</span></span></a><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">inputPath</span></span>, <a class="reference internal" href="../../utils/aminoacid.html#_CPPv4St" title="std"><span class="n"><span class="pre">std</span></span></a><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">outputPath</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Create a <code class="docutils literal notranslate"><a class="reference internal" href="#classmdk_1_1PositionDiff"><span class="std std-ref"><span class="pre">PositionDiff</span></span></a></code> object with given input and output paths. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inputPath</strong> – Path to the file with Fortran positions. </p></li>
<li><p><strong>outputPath</strong> – Path to the diff file to create. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N3mdk12PositionDiff4bindER10Simulation">
<span id="_CPPv3N3mdk12PositionDiff4bindER10Simulation"></span><span id="_CPPv2N3mdk12PositionDiff4bindER10Simulation"></span><span id="mdk::PositionDiff::bind__SimulationR"></span><span class="target" id="classmdk_1_1PositionDiff_1a0f930e0d7fd34c0aa7c3260ea6277e6b"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bind</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../../entire.html#_CPPv4N3mdk10SimulationE" title="mdk::Simulation"><span class="n"><span class="pre">Simulation</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">simulation</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">override</span></span><br /></dt>
<dd><p>Bind the hook to the simulation; also fetch the state and load the reference positions. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>simulation</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N3mdk12PositionDiff7executeEi">
<span id="_CPPv3N3mdk12PositionDiff7executeEi"></span><span id="_CPPv2N3mdk12PositionDiff7executeEi"></span><span id="mdk::PositionDiff::execute__i"></span><span class="target" id="classmdk_1_1PositionDiff_1a71dcdf57b4a0d4f2d8c6520c8dc49a06"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">execute</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">step_nr</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">override</span></span><br /></dt>
<dd><p>Execute the hook, i.e. output the diffs for the current step to the diff file. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>step_nr</strong> – Number of the step of the simulation at which the hook was invoked. </p>
</dd>
</dl>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-private-members">Private Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N3mdk12PositionDiff9inputPathE">
<span id="_CPPv3N3mdk12PositionDiff9inputPathE"></span><span id="_CPPv2N3mdk12PositionDiff9inputPathE"></span><span id="mdk::PositionDiff::inputPath__ss"></span><span class="target" id="classmdk_1_1PositionDiff_1ac7bd752f75cb8a535e5c8ebb0011a6ec"></span><a class="reference internal" href="../../utils/aminoacid.html#_CPPv4St" title="std"><span class="n"><span class="pre">std</span></span></a><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">inputPath</span></span></span><br /></dt>
<dd><p>A path to the Fortran reference positions file. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N3mdk12PositionDiff6outputE">
<span id="_CPPv3N3mdk12PositionDiff6outputE"></span><span id="_CPPv2N3mdk12PositionDiff6outputE"></span><span id="mdk::PositionDiff::output__std::ofstream"></span><span class="target" id="classmdk_1_1PositionDiff_1aa5088b16f751493e08009443639ed927"></span><a class="reference internal" href="../../utils/aminoacid.html#_CPPv4St" title="std"><span class="n"><span class="pre">std</span></span></a><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">ofstream</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">output</span></span></span><br /></dt>
<dd><p>Position diffs output stream. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N3mdk12PositionDiff12refPositionsE">
<span id="_CPPv3N3mdk12PositionDiff12refPositionsE"></span><span id="_CPPv2N3mdk12PositionDiff12refPositionsE"></span><span id="mdk::PositionDiff::refPositions__std::map:i.Vectors:"></span><span class="target" id="classmdk_1_1PositionDiff_1a0d238a2cde3d8608969684682dcf0b04"></span><a class="reference internal" href="../../utils/aminoacid.html#_CPPv4St" title="std"><span class="n"><span class="pre">std</span></span></a><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">map</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">int</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="../../entire.html#_CPPv4N3mdk7VectorsE" title="mdk::Vectors"><span class="n"><span class="pre">Vectors</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">refPositions</span></span></span><br /></dt>
<dd><p>Reference positions loaded from the file at <code class="docutils literal notranslate"><span class="pre">inputPath</span></code>, in the form of a map from the step number to a list of positions. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N3mdk12PositionDiff5stateE">
<span id="_CPPv3N3mdk12PositionDiff5stateE"></span><span id="_CPPv2N3mdk12PositionDiff5stateE"></span><span id="mdk::PositionDiff::state__StateCP"></span><span class="target" id="classmdk_1_1PositionDiff_1a3f7016d3450390adb407754368b2f4c8"></span><a class="reference internal" href="../../entire.html#_CPPv4N3mdk5StateE" title="mdk::State"><span class="n"><span class="pre">State</span></span></a><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">state</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">nullptr</span></span><br /></dt>
<dd><p>Saved const pointer to the state of the simulation. </p>
</dd></dl>

</div>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="progressbar.html" class="btn btn-neutral float-right" title="Progress bar hook" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="exportpdb.html" class="btn btn-neutral float-left" title="PDB export hook" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, IF PAN &amp; ZPP Team.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>